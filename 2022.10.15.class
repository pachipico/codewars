// Story The Pied Piper has been enlisted to play his magical tune and coax all the rats out of town.

// But some of the rats are deaf and are going the wrong way!

// Kata Task How many deaf rats are there?

// Legend P=The Pied Piper O~=Rat going left~O=Rat going right Example ex1~O~O~O~O P has 0 deaf rats

// ex2 P O~O~~O O~has 1 deaf rat

// ex3~O~O~O~OP~O~OO~has 2 deaf rats

// 못풀은 내 답안..
import java.util.Arrays;

public class Dinglemouse {

  public static int countDeafRats(final String town) {
    // Your code here
    System.out.println(town);
    int cnt = 0;
    String[] arr = Arrays.stream(town.split("P")).toArray(String[]::new);
    for(String str : arr){
      System.out.println(str);
    }
    String[][] res = Arrays.stream(arr).map(v -> v.split("(?<=\\G.{2})")).toArray(String[][]::new);
    

      for (String st : res[0]) {
        System.out.printf("%s, ", st);
        if (st.equals("O~"))
        cnt++;
      }
      for (String s : res[1]) {
        System.out.printf("%s, ", s);
        if (s.equals("~O"))
        cnt++;
      }
    return cnt;
    
  }

}


// 모범 답안
public class Dinglemouse {

  public static int countDeafRats(final String town) {
    String t = town.replaceAll(" ", "");
    int count = 0;
    for (int i = 0; i < t.length(); i += 2)
      if (t.charAt(i) == 'O')
        count++;
    return count;
  }
}

// 2
public class Dinglemouse {

  public static int countDeafRats(final String town) {
    String rats = town.replaceAll("\\s", "");
    int piper = rats.indexOf('P');
    int deafRats = 0;
    
    for(int i = 0; i < piper; i += 2)
      if(rats.substring(i, i+2).equals("O~")) deafRats++;
    
    for(int i = piper+1; i < rats.length()-1; i += 2)
      if(rats.substring(i, i+2).equals("~O")) deafRats++;
      
    return deafRats;
  }

}
